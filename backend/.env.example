#############################
# Backend configuration (.env)
#############################

# Copy this file to `.env` and fill in real values.
# Never commit `.env` (it is gitignored).

########################
# Twilio WhatsApp config
########################

# Twilio account credentials
TWILIO_ACCOUNT_SID=your_id
TWILIO_AUTH_TOKEN=your_token

# WhatsApp sender (Twilio)
# - Sandbox sender is usually: whatsapp:+14155238886
# - If you have a WhatsApp-enabled Twilio number, use that instead.
TWILIO_WHATSAPP_FROM=whatsapp:+14155238886

# WhatsApp recipient
TWILIO_WHATSAPP_TO=whatsapp:+91234567890

# WhatsApp sending mode
# - body (default): sends the actual alert text as WhatsApp message body
# - template: sends a Twilio Content Template (requires TWILIO_CONTENT_SID)
TWILIO_SEND_MODE=body

# Optional: Twilio Content Template
# If TWILIO_CONTENT_SID is set, the backend will send the template message.
# If it's blank, the backend sends plain text (body=text).
TWILIO_CONTENT_SID=your_template_sid
# Optional: Variables for the Content Template, as a JSON dictionary.
TWILIO_CONTENT_VARIABLES={"1":"12/1","2":"3pm"}

# Debug/testing
# Set to 1 to send a one-time WhatsApp message at backend startup.
TWILIO_SELF_TEST=0

# OCR backend
# - paddle: local PaddleOCR (default)
# - hf: Hugging Face Inference API (requires HF token)
OCR_BACKEND=paddle
HF_TOKEN=your token
# OCR model used when OCR_BACKEND=hf
# TrOCR is a general OCR model; you can swap this to any compatible image->text OCR model.
HF_OCR_MODEL=microsoft/trocr-base-printed

# YOLO tuning
# Lower YOLO_CONF if vehicles are being missed; raise it if too many false positives.
YOLO_CONF=0.35
YOLO_IOU=0.45
# Increase YOLO_IMGSZ to help detect smaller/far vehicles (more CPU/GPU cost)
YOLO_IMGSZ=960

# Detection filtering (post-YOLO heuristics)
# Helps suppress false positives in empty/flat regions.
DETECTION_MIN_AREA_RATIO=0.0005
DETECTION_MAX_AREA_RATIO=0.50
DETECTION_MAX_ASPECT=6.0
DETECTION_MIN_SIDE=20
DETECTION_MIN_TEXTURE_STD=8.0
# Require a track to be seen for N frames before reporting it
DETECTION_MIN_PERSIST_FRAMES=2

